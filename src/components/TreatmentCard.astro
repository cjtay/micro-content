---
// Card.astro
const { title, treatments = [] } = Astro.props;

// Define icon mapping object
const ICON_MAPPING = {
  "cisplatin": "drip",
  "fluorouracil": "drip",
  "trastuzumab (sc)": "drip",
  "rest": "home",
  "cisplatin, trastuzumab": "radiation",
  "etoposide": "radiation",
  "radiation": "radiation",
  "capecitabine": "drug",
  "lapatinib": "drug",
  "paclitaxel and pertuzumab": "radiation",
  "trastuzumab": "inject",
  "paclitaxel": "radiation",
  "cisplatin and etoposide": "radiation"

};

// Process treatments array to get icon names
const iconNames = treatments.map(treatment => 
  ICON_MAPPING[treatment.toLowerCase()] ?? "home"
);
console.log(treatments);
---
<div class="rounded-lg shadow-sm p-3">
  <!-- Title Section -->
  <div class="mb-4 text-center">
    <span class="text-lg md:text-base font-medium">
      {title}
    </span>
  </div>
  <!-- Icons Row -->
  <div class="flex flex-row gap-1 mx-auto justify-center w-16 h-16 md:w-14 md:h-14">
    {iconNames.map(iconName => (
      <img
        src={`/icons/${iconName}.svg`}
        alt={`${iconName} icon`}
        width="24"
        height="24"
      >
    ))}
  </div>
</div>